{"ast":null,"code":"var _jsxFileName = \"/home/sohaib/Desktop/MERN/Evaluation/GMAIL OAUTH/src/components/SentEmails/SentEmails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport InboxIDs from \"../api/InboxList\";\nimport { selectUser } from \"../../features/userSlice\";\nimport { sentEmailFetchedDone, APIUserData } from \"../../features/dataSlice\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport parseMessage from \"gmail-api-parse-message\";\nimport SingleEmailDisplaySent from \"./SingleEmailDisplaySent\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SentEmails = () => {\n  _s();\n\n  const user = useSelector(selectUser);\n  const [sentEmail, SetSentEmail] = useState([]);\n  const [sentEmailFetched, setSentEmailFetched] = useState([]);\n  const sentEmailsToDisplay = useSelector(APIUserData);\n  console.log(\"ðŸš€ ~ file: SentEmails.js ~ line 16 ~ SentEmails ~ sentEmailsToDisplay\", sentEmailsToDisplay); // useEffect(() => {\n  //   dispatch(sentEmailFetchedDone(sentEmail));\n  // }, [sentEmail]);\n  // useEffect(() => {\n  //   if (sentEmailFetched.length > 0) {\n  //     sentEmailFetched.map((item) => {\n  //       var parsedMessage = parseMessage(item);\n  //       const condition = sentEmail.find((array) => array.id === item.id);\n  //       if (condition) {\n  //         return sentEmail;\n  //       } else {\n  //         const arr = {\n  //           id: parsedMessage.id,\n  //           to: parsedMessage.headers.to,\n  //           subject: parsedMessage.headers.subject,\n  //           description: parsedMessage.snippet,\n  //           timestamp: parsedMessage.headers.date,\n  //         };\n  //         SetSentEmail((sentEmail) => [...sentEmail, arr]);\n  //         return;\n  //       }\n  //     });\n  //   }\n  // }, [sentEmailFetched]);\n  // useEffect(() => {\n  //   InboxIDs(user)\n  //     .get(`/${user.user_id}/messages?labelIds=SENT`)\n  //     .then(\n  //       function (response) {\n  //         response.data.messages.map(async (item) => {\n  //           await InboxIDs(user)\n  //             .get(`/${user.user_id}/messages/${item.id}`)\n  //             .then((res) => {\n  //               setSentEmailFetched((sentEmailFetched) => [\n  //                 ...sentEmailFetched,\n  //                 res.data,\n  //               ]);\n  //             })\n  //             .catch((error) => {\n  //               console.error(error);\n  //             });\n  //         });\n  //       },\n  //       function (err) {\n  //         console.error(\"Execute error\", err);\n  //       }\n  //     );\n  // }, [user]);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"emailList-list\",\n      children: sentEmailsToDisplay.sentEmailFetchedDisplay && sentEmailsToDisplay.sentEmailFetchedDone.map(_ref => {\n        let {\n          id,\n          to,\n          subject,\n          description,\n          timestamp\n        } = _ref;\n        return /*#__PURE__*/_jsxDEV(SingleEmailDisplaySent, {\n          id: id,\n          to: to,\n          subject: subject,\n          description: description,\n          timestamp: timestamp\n        }, id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(SentEmails, \"fdPFnl7hWdhirP7EwvIUTS+ReuY=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c = SentEmails;\nexport default SentEmails;\n\nvar _c;\n\n$RefreshReg$(_c, \"SentEmails\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","InboxIDs","selectUser","sentEmailFetchedDone","APIUserData","useSelector","useDispatch","parseMessage","SingleEmailDisplaySent","SentEmails","user","sentEmail","SetSentEmail","sentEmailFetched","setSentEmailFetched","sentEmailsToDisplay","console","log","sentEmailFetchedDisplay","map","id","to","subject","description","timestamp"],"sources":["/home/sohaib/Desktop/MERN/Evaluation/GMAIL OAUTH/src/components/SentEmails/SentEmails.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\nimport InboxIDs from \"../api/InboxList\";\nimport { selectUser } from \"../../features/userSlice\";\nimport { sentEmailFetchedDone, APIUserData } from \"../../features/dataSlice\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport parseMessage from \"gmail-api-parse-message\";\nimport SingleEmailDisplaySent from \"./SingleEmailDisplaySent\";\nconst SentEmails = () => {\n  const user = useSelector(selectUser);\n  const [sentEmail, SetSentEmail] = useState([]);\n\n  const [sentEmailFetched, setSentEmailFetched] = useState([]);\n\n  const sentEmailsToDisplay = useSelector(APIUserData);\n  console.log(\n    \"ðŸš€ ~ file: SentEmails.js ~ line 16 ~ SentEmails ~ sentEmailsToDisplay\",\n    sentEmailsToDisplay\n  );\n\n  // useEffect(() => {\n  //   dispatch(sentEmailFetchedDone(sentEmail));\n  // }, [sentEmail]);\n\n  // useEffect(() => {\n  //   if (sentEmailFetched.length > 0) {\n  //     sentEmailFetched.map((item) => {\n  //       var parsedMessage = parseMessage(item);\n\n  //       const condition = sentEmail.find((array) => array.id === item.id);\n\n  //       if (condition) {\n  //         return sentEmail;\n  //       } else {\n  //         const arr = {\n  //           id: parsedMessage.id,\n  //           to: parsedMessage.headers.to,\n  //           subject: parsedMessage.headers.subject,\n  //           description: parsedMessage.snippet,\n  //           timestamp: parsedMessage.headers.date,\n  //         };\n\n  //         SetSentEmail((sentEmail) => [...sentEmail, arr]);\n  //         return;\n  //       }\n  //     });\n  //   }\n  // }, [sentEmailFetched]);\n\n  // useEffect(() => {\n  //   InboxIDs(user)\n  //     .get(`/${user.user_id}/messages?labelIds=SENT`)\n\n  //     .then(\n  //       function (response) {\n  //         response.data.messages.map(async (item) => {\n  //           await InboxIDs(user)\n  //             .get(`/${user.user_id}/messages/${item.id}`)\n  //             .then((res) => {\n  //               setSentEmailFetched((sentEmailFetched) => [\n  //                 ...sentEmailFetched,\n  //                 res.data,\n  //               ]);\n  //             })\n  //             .catch((error) => {\n  //               console.error(error);\n  //             });\n  //         });\n  //       },\n  //       function (err) {\n  //         console.error(\"Execute error\", err);\n  //       }\n  //     );\n  // }, [user]);\n\n  return (\n    <>\n      {\" \"}\n      <div className=\"emailList-list\">\n        {sentEmailsToDisplay.sentEmailFetchedDisplay &&\n          sentEmailsToDisplay.sentEmailFetchedDone.map(\n            ({ id, to, subject, description, timestamp }) => (\n              <SingleEmailDisplaySent\n                key={id}\n                id={id}\n                to={to}\n                subject={subject}\n                description={description}\n                timestamp={timestamp}\n              />\n            )\n          )}\n      </div>\n    </>\n  );\n};\n\nexport default SentEmails;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,OAA3B,EAAoCC,QAApC,QAAoD,OAApD;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,oBAAT,EAA+BC,WAA/B,QAAkD,0BAAlD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,OAAOC,sBAAP,MAAmC,0BAAnC;;;;AACA,MAAMC,UAAU,GAAG,MAAM;EAAA;;EACvB,MAAMC,IAAI,GAAGL,WAAW,CAACH,UAAD,CAAxB;EACA,MAAM,CAACS,SAAD,EAAYC,YAAZ,IAA4BZ,QAAQ,CAAC,EAAD,CAA1C;EAEA,MAAM,CAACa,gBAAD,EAAmBC,mBAAnB,IAA0Cd,QAAQ,CAAC,EAAD,CAAxD;EAEA,MAAMe,mBAAmB,GAAGV,WAAW,CAACD,WAAD,CAAvC;EACAY,OAAO,CAACC,GAAR,CACE,uEADF,EAEEF,mBAFF,EAPuB,CAYvB;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,oBACE;IAAA,WACG,GADH,eAEE;MAAK,SAAS,EAAC,gBAAf;MAAA,UACGA,mBAAmB,CAACG,uBAApB,IACCH,mBAAmB,CAACZ,oBAApB,CAAyCgB,GAAzC,CACE;QAAA,IAAC;UAAEC,EAAF;UAAMC,EAAN;UAAUC,OAAV;UAAmBC,WAAnB;UAAgCC;QAAhC,CAAD;QAAA,oBACE,QAAC,sBAAD;UAEE,EAAE,EAAEJ,EAFN;UAGE,EAAE,EAAEC,EAHN;UAIE,OAAO,EAAEC,OAJX;UAKE,WAAW,EAAEC,WALf;UAME,SAAS,EAAEC;QANb,GACOJ,EADP;UAAA;UAAA;UAAA;QAAA,QADF;MAAA,CADF;IAFJ;MAAA;MAAA;MAAA;IAAA,QAFF;EAAA,gBADF;AAoBD,CAvFD;;GAAMX,U;UACSJ,W,EAKeA,W;;;KANxBI,U;AAyFN,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}